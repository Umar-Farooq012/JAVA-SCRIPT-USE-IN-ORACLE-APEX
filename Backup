Arrear 2 link code 
javascript:$s('P79_BOOKING_ID','#BOOKING_ID#');javascript:$s('P79_ARREAR','ARREAR NOTICE # 2'); 



select DISTINCT(DEALER_ID) , count(file_id) FILE_ASSIGN  from DGMS_DEALERS_FORMS
where status = 'TRANSFERRED'
GROUP BY DEALER_ID
     


===============================

update DGMS_CLIENT_REMARKS
set  final_reminder = null;


SELECT * FROM DGMS_DEALERS_FORMS

SELECT * FROM DGMS_DEALER_DETAILS;

SELECT COUNT(*) FROM DGMS_DEALERS_FORMS

SELECT * from DGMS_PLOTS_BOOKING where BOOKING_STATUS = 'O.F CONVERTED' 
select * from DGMS_INSTALLMENT_WISE_RECEIPTS_HEADER
SELECT * FROM DGMS_DEALERS_FORMS

SELECT
  DFD.BATCH_NO,
  DDF.DEALER_ID,
  COUNT(DDF.file_id) AS FILE_ASSIGN
FROM
  DGMS_DEALERS_FORMS DDF,
  DGMS_FILES_DETAILS DFD
WHERE
  DDF.ID = DFD.ID
  AND DDF.status = 'TRANSFERRED'
GROUP BY
  DDF.DEALER_ID, DFD.BATCH_NO;

SELECT DEALER_ID,  COUNT(FILE_ID) AS FILE_ASSIGN 
FROM DGMS_DEALERS_FORMS
WHERE STATUS = 'TRANSFERRED'
GROUP BY DEALER_ID

SELECT CATEGORY, NATURE, COUNT(BATCH_NO)
FROM DGMS_FILES_DETAILS
WHERE CATEGORY IS NOT NULL
GROUP BY CATEGORY, NATURE;

=============
PAGE NO 13 WORKING THIS QUERY MIS ZOYA AND ME (UMAR FAROOQ)

DECLARE
v_sql varchar2(4000);
BEGIN
   if :P13_ID IS NULL then 
     v_sql := 'SELECT DPD.PLOT_NO,DPD.ID AS RETURN   
                    FROM DGMS_PLOT_DETAILS DPD
                    LEFT JOIN DGMS_INVENTORY_MS_HEADER DIMH ON DIMH.PLOT_ID = DPD.ID AND DIMH.ORG_ID = :P_ORG_ID 
                    WHERE  DPD.ORG_ID = :P_ORG_ID
                    AND DIMH.ID IS NULL AND NVL(DPD.PLOT_TYPE,''PLOT'') = :P13_NEW AND DPD.APPROVAL_STATUS = ''APPROVED''
                    ORDER BY DPD.PLOT_NO ASC';
    else
     v_sql := 'SELECT DPD.PLOT_NO,DPD.ID AS RETURN   
                    FROM DGMS_PLOT_DETAILS DPD
                    JOIN DGMS_INVENTORY_MS_HEADER MS ON  MS.PLOT_ID = DPD.ID AND MS.ORG_ID = :P_ORG_ID
                    WHERE  DPD.ORG_ID = :P_ORG_ID  AND MS.ID = :P13_ID AND DPD.APPROVAL_STATUS = ''APPROVED''
                    ORDER BY DPD.PLOT_NO ASC;';
   end if; 
      return v_sql;

END;

================================================================
SELECT
    VOUCHER_DET_ID AS APPROVAL_ID,
    DFD.BATCH_NO,
    DFD.BATCH_MARKETING_NAME,
    DFD.FILE_NO,
    DIWR.BOOKING_ID,
    DTP.STATUS,
    INITCAP(DIWR.CLIENT) AS CLIENT,
    DPD.PLOT_NO,
    DIWR.DR_AMOUNT AS AMOUNT,
    INITCAP(DIWR.APPROVAL_STATUS) AS APPROVAL_STATUS,
    CASE WHEN RECIEPT_MODE = 'CHEQUE' THEN 'Instrument' ELSE INITCAP(RECIEPT_MODE) END AS "RECEIPT MODE",
    INITCAP(TRANSACTION_TYPE) AS TRANSACTION_TYPE,
    CHEQUE_DATE AS "INSTRUMENT DATE",
    CHEQUE_NO AS "INSTRUMENT NO",
    INITCAP(NVL(BANK_ACCOUNT, CASH_ACCOUNT)) AS ACCOUNT_NAME,
    DTP.FEE_PAYMENT_STATUS,
    DIWR.RECEIPT_ID,
    DIWR.PAID_DATE,
    DFD.BATCH_MARKETING_NAME || ' - ' || DFD.BATCH_NO AS BATCH,
    CASE WHEN DTP.FEE_PAYMENT_STATUS = 'TRANSFER FEES PAID' THEN 'REFUND IN PROCESS' ELSE 'REFUND' END AS REFUND,
    DTP.ID
FROM DGMS_VOUCHERS_APPROVAL DIWR
LEFT JOIN DGMS_FILES_DETAILS DFD ON DFD.ID = DIWR.PLOT_ID AND DFD.ORG_ID = :P_ORG_ID
LEFT JOIN DGMS_PLOTS_BOOKING DPB ON DPB.PLOT_ID = DIWR.PLOT_ID AND BOOKING_STATUS = 'BOOKED' AND DPB.ORG_ID = :P_ORG_ID
LEFT JOIN DGMS_PLOT_DETAILS DPD ON DPB.PLOT_ID = DPD.ID AND DPD.ORG_ID = :P_ORG_ID
LEFT JOIN DGMS_TRANSFERRED_PLOT DTP ON DPD.ID = DTP.PLOT_ID
WHERE
    DIWR.ORG_ID = :P_ORG_ID
    AND TRANSACTION_TYPE = 'TRANSFER FEES'
    AND DIWR.APPROVAL_STATUS = 'ACCEPTED'
    AND DTP.STATUS != 'TRANSFERRED';

==============================================================

        DECLARE
       v_doc_img blob;
       v_doc_file_nm varchar2(300);
       v_doc_mime_typ varchar2(300);
       B_ID NUMBER;
       BEGIN

    IF :P97_TYPE = 'LPC' THEN
    UPDATE DGMS_PLOTS_BOOKING SET LPC_WAIVER = NVL(LPC_WAIVER,0) + :P97_WAIVER_AMOUNT, LPC_WAIVER_APPROVED_BY  = :APP_USER, LPC_WAIVER_APPROVED_ON = SYSDATE
    WHERE PLOT_ID = :P97_PLOT_NO AND BOOKING_STATUS = 'BOOKED';
  
    ELSE

    UPDATE DGMS_TRANSFERRED_PLOT SET TRANSFER_FEE_WAIVE_OFF = :P97_WAIVER_AMOUNT, TRANSFER_FEE_WAIVER_BY = :APP_USER, TRANSFER_FEE_WAIVER_ON = SYSDATE
    WHERE PLOT_ID = :P97_PLOT_NO AND STATUS IN ('CREATED','ACCOUNTS APPROVED','TAXATION APPROVED');
    COMMIT;
    END IF;

      IF :P97_DOCUMENT IS NOT NULL THEN
       SELECT
        blob_content,FILENAME,MIME_TYPE
       INTO
        v_doc_img,v_doc_file_nm,v_doc_mime_typ
       FROM
        apex_application_temp_files
       WHERE
        name = :P97_DOCUMENT;
 
    SELECT ID INTO B_ID 
    FROM DGMS_PLOTS_BOOKING WHERE PLOT_ID = :P97_PLOT_NO AND BOOKING_STATUS IN ('BOOKED');

        
    INSERT INTO DGMS_BOOKING_DOCUMENTS(BOOKING_ID, PLOT_ID, DOCUMENT_TYPE, DOCUMENT, DOC_FILE_NAME, DOC_MIME_TYPE) 
    VALUES(B_ID , :P97_PLOT_NO, CASE WHEN :P97_TYPE = 'LPC' THEN 'LPC WAIVER' ELSE 'TRANSFER FEE WAIVER' END, v_doc_img, v_doc_file_nm, v_doc_mime_typ);

    COMMIT;
END IF; 
END;















